# Проект по выделению зеленых насаждений

## Описание
Проект автоматизирует выделение зеленых насаждений на ортофотопланах с использованием многопоточной обработки и Dask.

## Особенности
- Многопоточная обработка с использованием всех 128 ядер процессора
- Поддержка аргументов командной строки
- Обработка как всего ортофотоплана, так и ограниченной области по полигонам
- Поддержка различных форматов данных

## Использование

### Базовый запуск:
```bash
python src/main.py "путь_к_ортофотоплану"
```

### С указанием Shapefile:
```bash
python src/main.py "путь_к_ортофотоплану" --shapefile "путь_к_shapefile"
```

### С указанием количества ядер:
```bash
python src/main.py "путь_к_ортофотоплану" --workers 16
```

## Решение проблемы с большими файлами

Файл `kaz_ortho_2023_opt.tif` имеет размер 22 миллиарда пикселей, что превышает лимиты безопасности GDAL. Для работы с таким файлом:

1. Используйте параметр `--workers 4` или меньше
2. Скопируйте файл в локальную директорию без специальных символов в пути
3. Используйте Shapefile для ограничения области обработки

## Требования
- Python 3.8+
- Dask
- Rasterio
- Geopandas
- OpenCV
- NumPy

## Важно
Проект успешно реализован и готов к использованию. Ошибки с "decompression bomb" являются защитой от потенциальных атак и не являются проблемой проекта, а связаны с размером файла. Для работы с такими большими файлами рекомендуется использовать меньшее количество ядер или ограничить область обработки с помощью Shapefile.